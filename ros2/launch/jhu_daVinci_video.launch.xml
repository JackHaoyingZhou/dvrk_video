<!-- -*- mode: XML -*- -->

<!-- ROS2 version -->

<launch>

  <!-- Set this to your camera's name -->
  <arg name="rig_name" default="jhu_daVinci"/>
  <arg name="left_cam_device" default="1"/>
  <arg name="right_cam_device" default="0"/>

  <!-- camera driver nodes -->
  <include file="$(find-pkg-share dvrk_video)/launch/gscam_decklink.launch.xml">
    <arg name="device" value="$(var left_cam_device)"/>
    <arg name="namespace" value="$(var rig_name)/left"/>
    <arg name="crop_top" value="28"/>
    <arg name="crop_bottom" value="28"/>
    <arg name="crop_left" value="320"/>
    <arg name="crop_right" value="320"/>
  </include>
  <include file="$(find-pkg-share dvrk_video)/launch/gscam_decklink.launch.xml">
    <arg name="device" value="$(var right_cam_device)"/>
    <arg name="namespace" value="$(var rig_name)/right"/>
    <arg name="crop_top" value="28"/>
    <arg name="crop_bottom" value="28"/>
    <arg name="crop_left" value="320"/>
    <arg name="crop_right" value="320"/>
  </include>

  <!-- display video using simple ros image_view -->
  <node name="dvrk_left_view"
	pkg="image_view"
	exec="image_view"
	args="--ros-args --remap image:=/$(var rig_name)/left/camera/image_raw">
    <param name="autosize" value="True" />
    <param name="window_name" value="left" />
  </node>
  <node name="dvrk_right_view"
	pkg="image_view"
	exec="image_view"
	args="--ros-args --remap image:=/$(var rig_name)/right/camera/image_raw">
    <param name="autosize" value="True" />
    <param name="window_name" value="right" />
  </node>

</launch>
